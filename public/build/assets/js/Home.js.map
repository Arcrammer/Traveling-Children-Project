{"version":3,"sources":["Home.coffee"],"names":[],"mappings":"AAAA;EAAA,CAAA,CAAE,gBAAF,CAAmB,CAAC,KAApB,CAA0B,SAAA;AAgBxB,QAAA;IAAA,IAAA,GAAO,CAAA,CAAE,CAAA,CAAE,OAAF,CAAW,CAAA,CAAA,CAAb,CAAgB,CAAC,GAAjB,CAAA;IACP,KAAA,GAAQ,CAAA,CAAE,CAAA,CAAE,WAAF,CAAe,CAAA,CAAA,CAAjB,CAAoB,CAAC,GAArB,CAAA;IACR,CAAC,CAAC,IAAF,CAAO,eAAP,EACE;MAAA,QAAA,EAAU,MAAV;MACA,MAAA,EACE;QAAA,MAAA,EAAQ,IAAR;QACA,UAAA,EAAY,KADZ;OAFF;MAIA,SAAA,EAAW,SAAC,QAAD;QAOT,CAAC,CAAC,IAAF,CAAO,QAAP,EAAiB,SAAC,KAAD,EAAQ,WAAR;AAIf,cAAA;UAAA,IAAA,GAAO;UACP,IAAA,IAAQ,mBAAA,GAAsB,WAAW,CAAC,KAAlC,GAA0C;UAClD,IAAA,IAAQ,8BAAA,GAAiC,WAAW,CAAC,IAA7C,GAAoD;UAC5D,IAAA,IAAQ,yBAAA,GAA4B,WAAW,CAAC,OAAxC,GAAkD;UAC1D,IAAA,IAAQ,2BAAA,GAA8B,WAAW,CAAC,OAA1C,GAAoD,IAApD,GAA2D,WAAW,CAAC,MAAvE,GAAgF,GAAhF,GAAsF,WAAW,CAAC,IAAlG,GAAyG;UACjH,IAAA,IAAQ,0BAAA,GAA6B,WAAW,CAAC,UAAzC,GAAsD,wBAAtD,GAAiF,WAAW,CAAC,UAA7F,GAA0G,2BAA1G,GAAwI,WAAW,CAAC,QAApJ,GAA+J;UACvK,IAAA,IAAQ;UACR,CAAA,CAAE,cAAF,CAAiB,CAAC,KAAlB,CAAwB,IAAxB;QAXe,CAAjB;MAPS,CAJX;KADF;EAlBwB,CAA1B;AAAA","file":"Home.js","sourcesContent":["$('#destSearchBtn').click ->\n  # The user has chosen a destination\n  # type and location and clicked the\n  # button to search for them, so we\n  # will send an AJAX request to the\n  # server in order to return the\n  # results to them.\n  #\n  # Effectively this prevents another\n  # request and  response cycle\n  # meaning we don't strain the\n  # server by requiring it to return\n  # all of the destinations for\n  # every single user upon every\n  # single page load.\n  #\n  type = $($('#type')[0]).val() # Selected type\n  local = $($('#location')[0]).val() # Selected location\n  $.ajax '/destinations',\n    'method': 'post'\n    'data':\n      'type': type\n      'location': local\n    'success': (response) ->\n      # The request has been sent asynchronously\n      # and the server has given us a response.\n      #\n      # Now we will fill append modal nodes to\n      # the results modal.\n      #\n      $.each response, (index, destination) ->\n        # For each of the results returned we'll create\n        # a new node for the DOM and insert it\n        # \n        dest = '<div class=\"modal-body journeyDestSearch\">'\n        dest += '<p class=\"dname\">' + destination.dname + '</p>'\n        dest += '<p><b>Destination Type: </b>' + destination.type + '</p>'\n        dest += '<p><b>Description: </b>' + destination.dscrptn + '</p>'\n        dest += '<p><b>Venue Address: </b>' + destination.dstreet + ', ' + destination.cities + ' ' + destination.dzip + '</p>'\n        dest += '<p><b>Adult Cost: </b> $' + destination.adult_cost + ' <b>Child Cost: </b> $' + destination.child_cost + ' <b>Discount Amount: </b>' + destination.discount + '</p>'\n        dest += '<br /><hr class=\"jp_divider\"></hr></div>'\n        $('#destination').after dest\n        return\n      return\n  return\n"],"sourceRoot":"/source/"}