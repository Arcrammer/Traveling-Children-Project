{"version":3,"sources":["Main.coffee","Home.coffee"],"names":[],"mappings":"AAAA;EAAA,CAAC,SAAC,CAAD;WAEC,CAAA,CAAE,yBAAF,CAA4B,CAAC,OAA7B,CAAA;EAFD,CAAD,CAAA,CAGE,MAHF;AAAA;;;ACAA;EAAA,CAAC,SAAC,CAAD;IACC,IAAG,kBAAH;MACE,CAAA,CAAE,cAAF,CAAiB,CAAC,KAAlB,CAAA,EADF;;WAGA,CAAA,CAAE,gBAAF,CAAmB,CAAC,KAApB,CAA0B,SAAA;AAgBxB,UAAA;MAAA,IAAA,GAAO,CAAA,CAAE,CAAA,CAAE,OAAF,CAAW,CAAA,CAAA,CAAb,CAAgB,CAAC,GAAjB,CAAA;MACP,KAAA,GAAQ,CAAA,CAAE,CAAA,CAAE,WAAF,CAAe,CAAA,CAAA,CAAjB,CAAoB,CAAC,GAArB,CAAA;MACR,CAAC,CAAC,IAAF,CAAO,eAAP,EACE;QAAA,QAAA,EAAU,MAAV;QACA,MAAA,EACE;UAAA,MAAA,EAAQ,IAAR;UACA,UAAA,EAAY,KADZ;SAFF;QAIA,SAAA,EAAW,SAAC,QAAD;UAOT,CAAC,CAAC,IAAF,CAAO,QAAP,EAAiB,SAAC,KAAD,EAAQ,WAAR;AAIf,gBAAA;YAAA,IAAA,GAAO;YACP,IAAA,IAAQ,mBAAA,GAAsB,WAAW,CAAC,KAAlC,GAA0C;YAClD,IAAA,IAAQ,8BAAA,GAAiC,WAAW,CAAC,IAA7C,GAAoD;YAC5D,IAAA,IAAQ,yBAAA,GAA4B,WAAW,CAAC,OAAxC,GAAkD;YAC1D,IAAA,IAAQ,2BAAA,GAA8B,WAAW,CAAC,OAA1C,GAAoD,IAApD,GAA2D,WAAW,CAAC,MAAvE,GAAgF,GAAhF,GAAsF,WAAW,CAAC,IAAlG,GAAyG;YACjH,IAAA,IAAQ,0BAAA,GAA6B,WAAW,CAAC,UAAzC,GAAsD,wBAAtD,GAAiF,WAAW,CAAC,UAA7F,GAA0G,2BAA1G,GAAwI,WAAW,CAAC,QAApJ,GAA+J;YACvK,IAAA,IAAQ;YACR,CAAA,CAAE,cAAF,CAAiB,CAAC,KAAlB,CAAwB,IAAxB;UAXe,CAAjB;QAPS,CAJX;OADF;IAlBwB,CAA1B;EAJD,CAAD,CAAA,CAiDE,MAjDF;AAAA","file":"Home.js","sourcesContent":["(($) ->\n  # The DOM has loaded\n  $('[data-toggle=\"tooltip\"]').tooltip()\n) jQuery\n","(($) ->\n  if signinNeedsDisplay\n    $('#signinModal').modal()\n\n  $('#destSearchBtn').click ->\n    # The user has chosen a destination\n    # type and location and clicked the\n    # button to search for them, so we\n    # will send an AJAX request to the\n    # server in order to return the\n    # results to them.\n    #\n    # Effectively this prevents another\n    # request and  response cycle\n    # meaning we don't strain the\n    # server by requiring it to return\n    # all of the destinations for\n    # every single user upon every\n    # single page load.\n    #\n    type = $($('#type')[0]).val() # Selected type\n    local = $($('#location')[0]).val() # Selected location\n    $.ajax '/destinations',\n      'method': 'post'\n      'data':\n        'type': type\n        'location': local\n      'success': (response) ->\n        # The request has been sent asynchronously\n        # and the server has given us a response.\n        #\n        # Now we will fill append modal nodes to\n        # the results modal.\n        #\n        $.each response, (index, destination) ->\n          # For each of the results returned we'll create\n          # a new node for the DOM and insert it\n          #\n          dest = '<div class=\"modal-body journeyDestSearch\">'\n          dest += '<p class=\"dname\">' + destination.dname + '</p>'\n          dest += '<p><b>Destination Type: </b>' + destination.type + '</p>'\n          dest += '<p><b>Description: </b>' + destination.dscrptn + '</p>'\n          dest += '<p><b>Venue Address: </b>' + destination.dstreet + ', ' + destination.cities + ' ' + destination.dzip + '</p>'\n          dest += '<p><b>Adult Cost: </b> $' + destination.adult_cost + ' <b>Child Cost: </b> $' + destination.child_cost + ' <b>Discount Amount: </b>' + destination.discount + '</p>'\n          dest += '<br /><hr class=\"jp_divider\"></hr></div>'\n          $('#destination').after dest\n          return\n        return\n    return\n) jQuery\n"],"sourceRoot":"/source/"}