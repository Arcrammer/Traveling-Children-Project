{"version":3,"sources":["Home.coffee"],"names":[],"mappings":"AAAA;EAAA,CAAC,SAAC,CAAD;AACC,QAAA;IAAA,CAAA,CAAE,gBAAF,CAAmB,CAAC,KAApB,CAA0B,SAAA;aAQxB,cAAA,CAAe,CAAA,CAAE,OAAF,CAAU,CAAC,GAAX,CAAA,CAAf,EAAiC,CAAA,CAAE,WAAF,CAAc,CAAC,GAAf,CAAA,CAAjC;IARwB,CAA1B;IAUA,CAAA,CAAE,eAAF,CAAkB,CAAC,KAAnB,CAAyB,SAAC,KAAD;aAEvB,cAAA,CAAe,CAAA,CAAE,KAAK,CAAC,MAAR,CAAe,CAAC,IAAhB,CAAqB,kBAArB,CAAf;IAFuB,CAAzB;IAIA,CAAA,CAAE,YAAF,CAAe,CAAC,EAAhB,CAAmB,eAAnB,EAAoC,SAAA;aAGlC,CAAA,CAAE,oBAAF,CAAuB,CAAC,QAAxB,CAAA,CAAkC,CAAC,MAAnC,CAAA;IAHkC,CAApC;WAMA,cAAA,GAAiB,SAAC,IAAD,EAAO,QAAP;aACf,CAAC,CAAC,IAAF,CAAO,eAAP,EACE;QAAA,MAAA,EAAQ,MAAR;QACA,IAAA,EACE;UAAA,IAAA,EAAM,IAAN;UACA,QAAA,EAAU,QADV;SAFF;QAIA,OAAA,EAAS,SAAC,QAAD;iBAOP,CAAC,CAAC,IAAF,CAAO,QAAP,EAAiB,SAAC,KAAD,EAAQ,WAAR;AAIf,gBAAA;YAAA,IAAA,GAAO;YACP,IAAA,IAAQ,mBAAA,GAAsB,WAAW,CAAC,IAAlC,GAAyC;YACjD,IAAA,IAAQ,8BAAA,GAAiC,WAAW,CAAC,IAAI,CAAC,IAAlD,GAAyD;YACjE,IAAA,IAAQ,yBAAA,GAA4B,WAAW,CAAC,WAAxC,GAAsD;YAC9D,IAAA,IAAQ,2BAAA,GAA8B,WAAW,CAAC,MAA1C,GAAmD,IAAnD,GAA0D,WAAW,CAAC,IAAI,CAAC,IAA3E,GAAkF,IAAlF,GAAyF,WAAW,CAAC,KAAK,CAAC,IAA3G,GAAkH,GAAlH,GAAwH,WAAW,CAAC,GAApI,GAA0I;YAClJ,IAAA,IAAQ,0BAAA,GAA6B,WAAW,CAAC,UAAzC,GAAsD,wBAAtD,GAAiF,WAAW,CAAC,UAA7F,GAA0G,oBAA1G,GAAiI,WAAW,CAAC,mBAA7I,GAAmK;YAC3K,IAAA,IAAQ;YACR,IAAA,IAAQ;mBACR,CAAA,CAAE,oBAAF,CAAuB,CAAC,MAAxB,CAA+B,IAA/B;UAZe,CAAjB;QAPO,CAJT;OADF;IADe;EArBlB,CAAD,CAAA,CAgDE,MAhDF;AAAA","file":"Home.js","sourcesContent":["(($) ->\n  $('#destSearchBtn').click ->\n    # The user has chosen a destination\n    # type and location and clicked the\n    # button to search for them, so we\n    # will send an AJAX request to the\n    # server in order to return the\n    # results to them.\n    #\n    fetch_journeys($('#type').val(), $('#location').val())\n\n  $('#destButtons ').click (event) ->\n    # The user has clicked a destination button\n    fetch_journeys($(event.target).data 'destination-type')\n\n  $('#destModal').on 'hide.bs.modal', ->\n    # Remove all of the results\n    # when the modal is dismissed\n    $('.journeyDestSearch').children().remove()\n\n  # Functions\n  fetch_journeys = (type, location) ->\n    $.ajax '/destinations',\n      method: 'post'\n      data:\n        type: type\n        location: location\n      success: (response) ->\n        # The request has been sent asynchronously\n        # and the server has given us a response.\n        #\n        # Now we will fill append modal nodes to\n        # the results modal.\n        #\n        $.each response, (index, destination) ->\n          # For each of the results returned we'll create\n          # a new node for the DOM and insert it\n          #\n          dest = '<div class=\"destination\">'\n          dest += '<p class=\"dname\">' + destination.name + '</p>'\n          dest += '<p><b>Destination Type: </b>' + destination.type.name + '</p>'\n          dest += '<p><b>Description: </b>' + destination.description + '</p>'\n          dest += '<p><b>Venue Address: </b>' + destination.street + ', ' + destination.city.name + ', ' + destination.state.name + ' ' + destination.zip + '</p>'\n          dest += '<p><b>Adult Cost: </b> $' + destination.adult_cost + ' <b>Child Cost: </b> $' + destination.child_cost + ' <b>Discount: </b>' + destination.discount_percentage + '%</p>'\n          dest += '<hr class=\"jp_divider\">'\n          dest += '</div> <!-- .destination -->'\n          $('.journeyDestSearch').append dest\n\n) jQuery\n"],"sourceRoot":"/source/"}